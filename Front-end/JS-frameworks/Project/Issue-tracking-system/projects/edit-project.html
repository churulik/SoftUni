<div ng-init="initEditProject()">
    <form name="editProjectForm" class="form-horizontal"  ng-if="isProjectLeader || isAdmin">
        <div class="form-group">
            <div class="col-md-offset-2 col-md-9">
                <h3>Edit Project</h3>
            </div>
        </div>
        <div class="form-group">
            <label for="name" class="control-label col-md-2">Name</label>
            <div class="col-md-9">
                <input type="text" ng-model="project.Name" id="name"  class="form-control" required="required">
            </div>
        </div>
        <div class="form-group">
            <label for="description" class="control-label col-md-2">Description</label>
            <div class="col-md-9">
            <textarea ng-model="project.Description" id="description"  class="form-control" required="required">
                {{project.Description}}
            </textarea>
            </div>
        </div>
        <div class="form-group">
            <label for="priority" class="control-label col-md-2">Priorities</label>
            <div class="col-md-9">
                <input type="text" ng-model="project.Priorities" to-string-formatter to-array-object-parser id="priority"
                       class="form-control" required="required">
            </div>
        </div>
        <div class="form-group" ng-controller="LabelsController" ng-init="initGetAllLabels()">
            <label for="labels" class="control-label col-md-2">Labels</label>
            <div class="col-md-9">
                <tags-input id="labels" ng-model="project.Labels" key-priority="Id" display-property="Name"
                            placeholder="Labels"
                            replace-spaces-with-dashes="false" required="required">
                    <auto-complete source="loadLabels($query)" min-length="0"></auto-complete>
                </tags-input>
            </div>
        </div>
        <div class="form-group" ng-if="isAdmin">
            <label for="leadId" class="control-label col-md-2">Lead ID</label>
            <div class="col-md-9">
                <input type="text" ng-model="project.Lead.Id" id="leadId" class="form-control" required="required">
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10 col-md-offset-2">
                <button ng-disabled="editProjectForm.$invalid" ng-click="editProject(project)" type="button" class="btn btn-success" >
                    Edit Project
                </button>
                <a ng-href="#/projects/{{projectId}}" class="btn btn-default">Cancel</a>
            </div>
        </div>
    </form>
</div>


